{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Projeto API: Solu\u00e7\u00e3o de Com\u00e9rcio Eletr\u00f4nico","text":"<p>Ferramentas de Monitoramento: - Grafana - Prometheus - Redis</p>"},{"location":"#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Este documento apresenta um sistema inovador para e-commerce, implementado como uma API RESTful com Spring Boot. A aplica\u00e7\u00e3o \u00e9 dividida em microservi\u00e7os respons\u00e1veis por gerenciamento de contas, autentica\u00e7\u00e3o, produtos, pedidos e integra\u00e7\u00e3o com um servi\u00e7o de c\u00e2mbio. O design enfatiza escalabilidade e modularidade, utilizando Docker e Kubernetes para gerenciamento de cont\u00eaineres.</p>"},{"location":"#cronograma-das-entregas","title":"Cronograma das Entregas","text":"<p>As seguintes etapas foram definidas para a conclus\u00e3o: - Exchange API \u2013 Finaliza\u00e7\u00e3o prevista: 02/06/2025 - Product API \u2013 Finaliza\u00e7\u00e3o prevista: 02/06/2025 - Order API \u2013 Finaliza\u00e7\u00e3o prevista: 02/06/2025</p>"},{"location":"#arquitetura-do-sistema","title":"Arquitetura do Sistema","text":"<p>A seguir, um diagrama ilustrativo do fluxo e integra\u00e7\u00e3o dos servi\u00e7os:</p> <pre><code>flowchart LR\n    subgraph api [Camada Segura]\n        direction TB\n        gateway --&gt; account\n        gateway --&gt; auth\n        account --&gt; db@{ shape: cyl, label: \"Base de Dados\" }\n        auth --&gt; account\n        gateway --&gt; exchange\n        gateway --&gt; product\n        gateway --&gt; order:::red\n        product --&gt; db\n        order --&gt; db\n        order --&gt; product\n        %% Redis: Cache para product\n        product e2@==&gt; redis[(Cache Redis)]\n    end\n\n    %% Monitoramento\n    grafana[\"Grafana + Prometheus\"]\n    grafana e3@-.-&gt; gateway\n\n    %% Integra\u00e7\u00e3o externa\n    exchange --&gt; 3partyapi@{label: \"API Externa\"}\n    internet e1@==&gt;|requisicao| gateway\n\n    %% Anima\u00e7\u00f5es\n    e1@{ animate: true }\n    e2@{ animate: true }\n    e3@{ animate: true }\n\n    %% Estilo e navega\u00e7\u00e3o\n    classDef red fill:#fcc\n    click order \"#order-api\" \"Order API\"</code></pre>"},{"location":"#organizacao-do-projeto","title":"Organiza\u00e7\u00e3o do Projeto","text":"<p>A estrutura de diret\u00f3rios foi pensada para facilitar o desenvolvimento e a manuten\u00e7\u00e3o:</p> Vis\u00e3o Geral dos Diret\u00f3riosConfigura\u00e7\u00e3o com Docker Compose Estrutura de Pastas<pre><code>API/ (Apresenta\u00e7\u00e3o interna para GitHub e testes locais)\n\u251c\u2500\u2500 exchange-service/ (Servi\u00e7o independente)\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u2502   \u251c\u2500\u2500 main.py\n\u2502   \u2502   \u2514\u2500\u2500 routers.py\n\u2502   \u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 gateway-service/ (Servi\u00e7o independente)\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2514\u2500\u2500 main/\n\u2502   \u2502       \u251c\u2500\u2500 java/...\n\u2502   \u2502       \u2514\u2500\u2500 resources/\n\u2502   \u2502           \u251c\u2500\u2500 application.yml\n\u2502   \u2502           \u2514\u2500\u2500 arquivos adicionais\n\u251c\u2500\u2500 order/ (Depend\u00eancia de servi\u00e7o)\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2514\u2500\u2500 main/\n\u2502   \u2502       \u2514\u2500\u2500 java/...\n\u2502   \u2514\u2500\u2500 pom.xml\n\u251c\u2500\u2500 order-service/ (Servi\u00e7o independente)\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2514\u2500\u2500 main/\n\u2502   \u2502       \u251c\u2500\u2500 java/...\n\u2502   \u2502       \u2514\u2500\u2500 resources/\n\u2502   \u2502           \u251c\u2500\u2500 application.yml\n\u2502   \u2502           \u2514\u2500\u2500 arquivos adicionais\n\u251c\u2500\u2500 product/ (Depend\u00eancia de servi\u00e7o)\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2514\u2500\u2500 main/\n\u2502   \u2502       \u2514\u2500\u2500 java/...\n\u2502   \u2514\u2500\u2500 pom.xml\n\u251c\u2500\u2500 product-service/ (Servi\u00e7o independente)\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2514\u2500\u2500 main/\n\u2502   \u2502       \u251c\u2500\u2500 java/...\n\u2502   \u2502       \u2514\u2500\u2500 resources/\n\u2502   \u2502           \u251c\u2500\u2500 application.yml\n\u2502   \u2502           \u2514\u2500\u2500 arquivos adicionais\n\u2502   \u2514\u2500\u2500 pom.xml\n\u251c\u2500\u2500 account/ (Depend\u00eancia de servi\u00e7o)\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2514\u2500\u2500 main/\n\u2502   \u2502       \u2514\u2500\u2500 java/...\n\u2502   \u2514\u2500\u2500 pom.xml\n\u251c\u2500\u2500 account-service/ (Servi\u00e7o independente)\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2514\u2500\u2500 main/\n\u2502   \u2502       \u251c\u2500\u2500 java/...\n\u2502   \u2502       \u2514\u2500\u2500 resources/\n\u2502   \u2502           \u251c\u2500\u2500 application.yml\n\u2502   \u2502           \u2514\u2500\u2500 arquivos adicionais\n\u2502   \u2514\u2500\u2500 pom.xml\n\u251c\u2500\u2500 auth/ (Depend\u00eancia de servi\u00e7o)\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2514\u2500\u2500 main/\n\u2502   \u2502       \u2514\u2500\u2500 java/...\n\u2502   \u2514\u2500\u2500 pom.xml\n\u251c\u2500\u2500 auth-service/ (Servi\u00e7o independente)\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u2514\u2500\u2500 main/\n\u2502   \u2502       \u251c\u2500\u2500 java/...\n\u2502   \u2502       \u2514\u2500\u2500 resources/\n\u2502   \u2502           \u251c\u2500\u2500 application.yml\n\u2502   \u2502           \u2514\u2500\u2500 arquivos adicionais\n\u2502   \u2514\u2500\u2500 pom.xml\n</code></pre> api/compose.yaml<pre><code># compose.yaml\nservices:\n  db:\n    image: postgres:latest\n    hostname: db\n    environment:\n      POSTGRES_DB: ${POSTGRES_DB:-store}\n      POSTGRES_USER: ${POSTGRES_USER:-store}\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-store}\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    networks:\n      - store-project\n\n  exchange:\n    build:\n      context: ./exchange-service\n      dockerfile: Dockerfile\n    networks:\n      - store-project\n\n  account:\n    hostname: account\n    build:\n      context: ./account-service\n      dockerfile: Dockerfile\n    environment:\n      DATABASE_HOST: db\n      DATABASE_USER: ${POSTGRES_USER:-store}\n      DATABASE_PASSWORD: ${POSTGRES_PASSWORD:-store}\n    depends_on:\n      - db\n    networks:\n      - store-project\n\n  auth:\n    hostname: auth\n    build:\n      context: ./auth-service\n      dockerfile: Dockerfile\n    environment:\n      JWT_SECRET_KEY: ${JWT_SECRET_KEY:-yrBBgYlvJQeslzFlgX9MFZccToI2fjRFqualquercoisa}\n    networks:\n      - store-project\n\n  gateway:\n    hostname: gateway\n    build:\n      context: ./gateway-service\n      dockerfile: Dockerfile\n    environment:\n      - LOGGING_LEVEL_STORE=${LOGGING_LEVEL_STORE:-debug}\n    ports:\n      - 8080:8080\n    depends_on:\n      - account\n      - auth\n      - product\n      - order\n      - exchange\n    networks:\n      - store-project\n\n  product:\n    hostname: product\n    build:\n      context: ./product-service\n      dockerfile: Dockerfile\n    environment:\n      DATABASE_HOST: db\n      DATABASE_USER: ${POSTGRES_USER:-store}\n      DATABASE_PASSWORD: ${POSTGRES_PASSWORD:-store}\n      REDIS_HOST: redis\n    depends_on:\n      - db\n      - redis\n    networks:\n      - store-project\n\n  order:\n    hostname: order\n    build:\n      context: ./order-service\n      dockerfile: Dockerfile\n    environment:\n      DATABASE_HOST: db\n      DATABASE_USER: ${POSTGRES_USER:-store}\n      DATABASE_PASSWORD: ${POSTGRES_PASSWORD:-store}\n    depends_on:\n      - db\n    networks:\n      - store-project\n\n  prometheus:\n    image: prom/prometheus:latest\n    hostname: prometheus\n    ports:\n      - 9090:9090\n    volumes:\n      - prometheus-config:/etc/prometheus\n    networks:\n      - store-project\n\n  grafana:\n    image: grafana/grafana-enterprise\n    hostname: grafana\n    ports:\n      - 3000:3000\n    environment:\n      - GF_SECURITY_ADMIN_PASSWORD=admin\n    user: \"472\"\n    volumes:\n      - grafana-data:/var/lib/grafana\n      - grafana-provisioning:/etc/grafana/provisioning/datasources\n    depends_on:\n      - prometheus\n    networks:\n      - store-project\n\n  redis:\n    image: redis:latest\n    hostname: redis\n    ports:\n      - 6379:6379\n    networks:\n      - store-project\n\nvolumes:\n  postgres-data:\n  prometheus-config:\n  grafana-data:\n  grafana-provisioning:\n\nnetworks:\n  store-project:\n    driver: bridge\n</code></pre>"},{"location":"#demonstracao","title":"Demonstra\u00e7\u00e3o","text":"<p>Assista a um v\u00eddeo que exemplifica a opera\u00e7\u00e3o do sistema:</p>"},{"location":"#recursos-adicionais","title":"Recursos Adicionais","text":"<p>Para personalizar e explorar mais funcionalidades, consulte a documenta\u00e7\u00e3o oficial do MkDocs Material: Documenta\u00e7\u00e3o MkDocs Material</p>"},{"location":"bottlenecks/main/","title":"Insights de Performance e Otimiza\u00e7\u00e3o","text":"<p>Este documento apresenta uma abordagem renovada para an\u00e1lise, cache e monitoramento da nossa aplica\u00e7\u00e3o, destacando solu\u00e7\u00f5es inovadoras e pr\u00e1ticas que otimizam a opera\u00e7\u00e3o do sistema.</p>"},{"location":"bottlenecks/main/#1-estrategia-de-caching-com-redis","title":"1. Estrat\u00e9gia de Caching com Redis","text":""},{"location":"bottlenecks/main/#11-contexto-e-beneficios","title":"1.1. Contexto e Benef\u00edcios","text":"<p>Para melhorar os tempos de resposta das requisi\u00e7\u00f5es, adotamos uma estrat\u00e9gia de cache com Redis. Essa abordagem garante que as requisi\u00e7\u00f5es mais comuns sejam processadas com agilidade, reduzindo impactos de lat\u00eancia e carga sobre o banco de dados.</p> <ul> <li>Prop\u00f3sito: Minimizar o tempo de resposta verificando dados em cache antes de acessar os reposit\u00f3rios prim\u00e1rios.</li> <li>Implementa\u00e7\u00e3o: O Redis \u00e9 executado como um container isolado em ambiente Kubernetes, utilizando a porta padr\u00e3o (6379).</li> </ul>"},{"location":"bottlenecks/main/#12-periferia-do-sistema","title":"1.2. Periferia do Sistema","text":"<p>A integra\u00e7\u00e3o do cache foi fundamental na diminui\u00e7\u00e3o de requisi\u00e7\u00f5es desnecess\u00e1rias e na amplifica\u00e7\u00e3o da capacidade de resposta, impactando positivamente tanto o desempenho quanto a escalabilidade.</p> <ul> <li>Manifesto Kubernetes: redis-config.yaml</li> </ul>"},{"location":"bottlenecks/main/#2-monitoramento-e-visualizacao-em-tempo-real","title":"2. Monitoramento e Visualiza\u00e7\u00e3o em Tempo Real","text":""},{"location":"bottlenecks/main/#21-ferramentas-e-arquitetura","title":"2.1. Ferramentas e Arquitetura","text":"<p>Optamos por um robusto sistema de monitoramento utilizando Prometheus e a visualiza\u00e7\u00e3o de m\u00e9tricas por meio do Grafana. Essa combina\u00e7\u00e3o permite uma an\u00e1lise detalhada do ambiente operacional e facilita a identifica\u00e7\u00e3o de eventuais anomalias.</p> <ul> <li>Objetivo: Capturar e exibir m\u00e9tricas essenciais da aplica\u00e7\u00e3o para monitoramento cont\u00ednuo.</li> <li>Metodologia: </li> <li>O Prometheus recolhe m\u00e9tricas e executa a coleta de dados de m\u00faltiplas fontes.</li> <li>O Grafana transforma esses dados em dashboards din\u00e2micos.</li> </ul>"},{"location":"bottlenecks/main/#22-componentes-e-configuracoes","title":"2.2. Componentes e Configura\u00e7\u00f5es","text":""},{"location":"bottlenecks/main/#221-configuracao-do-grafana","title":"2.2.1. Configura\u00e7\u00e3o do Grafana","text":"<ul> <li>Finalidade: Fornecer interfaces gr\u00e1ficas interativas que auxiliam no monitoramento dos indicadores de performance.</li> <li>Manifesto Kubernetes: grafana-deploy.yaml</li> </ul>"},{"location":"bottlenecks/main/#222-implantacao-do-prometheus","title":"2.2.2. Implanta\u00e7\u00e3o do Prometheus","text":"<ul> <li>Prop\u00f3sito: Implementar um servidor que realiza a coleta intensiva de m\u00e9tricas das aplica\u00e7\u00f5es e do branch operante do cluster.</li> <li>Manifestos Utilizados:</li> <li>prometheus-deploy.yaml</li> <li>prometheus-settings.yaml</li> </ul>"},{"location":"bottlenecks/main/#3-sumario-executivo","title":"3. Sum\u00e1rio Executivo","text":"<ul> <li>Visibilidade Continuada: A integra\u00e7\u00e3o de Prometheus com Grafana permite uma observa\u00e7\u00e3o constante das opera\u00e7\u00f5es, facilitando a tomada de a\u00e7\u00f5es corretivas.</li> <li>Otimiza\u00e7\u00e3o Atrav\u00e9s do Cache: O uso do Redis demonstrou ser essencial para reduzir o tempo de resposta em acessos frequentes, resultando em melhorias percept\u00edveis de desempenho.</li> <li>Escalabilidade Din\u00e2mica: A implementa\u00e7\u00e3o em Kubernetes possibilita ajustes autom\u00e1ticos conforme a demanda, mantendo a robustez do sistema.</li> </ul> <p>Nota: - Recomenda-se manter a vers\u00e3o dos manifestos de configura\u00e7\u00e3o atualizada e armazenada em reposit\u00f3rios dedicados para futuras auditorias e ajustes de deploy. - Ajuste os par\u00e2metros de recursos (CPU/mem\u00f3ria) conforme o perfil de carga para evitar sobrecargas indesejadas.</p>"},{"location":"bottlenecks/main/#conclusao","title":"Conclus\u00e3o","text":"<p>A reformula\u00e7\u00e3o das estrat\u00e9gias de cache e monitoramento cria um ambiente resiliente e \u00e1gil para suportar demandas vari\u00e1veis, garantindo a continuidade dos servi\u00e7os e a melhoria cont\u00ednua da experi\u00eancia do usu\u00e1rio.</p>"},{"location":"exercicio1/main/","title":"Guia R\u00e1pido do Microservi\u00e7o de C\u00e2mbio","text":""},{"location":"exercicio1/main/#rotas-da-api","title":"Rotas da API","text":"<p>Endpoint: GET /exchange/from/to</p> <p>Utilize este endpoint para consultar a taxa de c\u00e2mbio entre duas moedas. Por exemplo: <code>GET /exchange/BRL/USD</code>.</p> Exemplo de Resposta <p><pre><code>{\n    \"venda\": 0.85,\n    \"compra\": 0.83,\n    \"horario\": \"2022-05-21 10:12:00\",\n    \"conta\": \"b3c2d1e5-9f8a-7c6b-d4e2-1a3b5c7d8f9g\"\n}\n</code></pre> <pre><code>C\u00f3digo: 200 (sucesso)\n</code></pre></p>"},{"location":"exercicio1/main/#configuracao-com-docker-e-dependencias","title":"Configura\u00e7\u00e3o com Docker e Depend\u00eancias","text":"<p>Para garantir o ambiente ideal do microservi\u00e7o, empregamos cont\u00eaineres Docker. O setup inclui um script para iniciar o uvicorn e um arquivo de depend\u00eancias.</p> Script uvicorn.shArquivo de RequisitosDockerfile <pre><code>#!/bin/bash\nexec uvicorn app.main:app \\\n  --host 0.0.0.0 \\\n  --port 8000 \\\n  --reload\n</code></pre> <pre><code>uvicorn[standard]\nfastapi\nsqlalchemy\npymysql\npydantic[email]\npasslib\npydantic\nrequests\nPyJWT\n</code></pre> <pre><code>FROM python:3.12-slim\nWORKDIR /exchange\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\nCOPY . .\nRUN chmod +x ./uvicorn.sh\nENV PYTHONPATH=/exchange/app\nCMD [\"/bin/bash\", \"./uvicorn.sh\"]\n</code></pre>"},{"location":"exercicio1/main/#descricao-do-projeto","title":"Descri\u00e7\u00e3o do Projeto","text":"<p>Este projeto foi desenvolvido com FastAPI e Python para criar um microservi\u00e7o de c\u00e2mbio que integra fontes externas de dados para fornecer convers\u00f5es de moedas em tempo real. A arquitetura foi pensada para ser leve e escal\u00e1vel, facilitando a manuten\u00e7\u00e3o e expans\u00e3o.</p>"},{"location":"exercicio2/main/","title":"Guia R\u00e1pido: API de Produtos","text":""},{"location":"exercicio2/main/#sumario","title":"Sum\u00e1rio","text":"<p>Este guia apresenta uma nova abordagem para configurar, construir e operar o servi\u00e7o de produtos. A seguir, voc\u00ea encontrar\u00e1 instru\u00e7\u00f5es para o ambiente, configura\u00e7\u00f5es Docker e utiliza\u00e7\u00e3o dos endpoints dispon\u00edveis.</p>"},{"location":"exercicio2/main/#configuracao-inicial","title":"Configura\u00e7\u00e3o Inicial","text":""},{"location":"exercicio2/main/#preparacao-da-aplicacao","title":"Prepara\u00e7\u00e3o da Aplica\u00e7\u00e3o","text":"<p>Comece clonando o reposit\u00f3rio que cont\u00e9m a estrutura base. O projeto possui uma arquitetura em Spring Boot dividida em dois m\u00f3dulos. Para testes locais, navegue at\u00e9 o diret\u00f3rio \"product\" e execute:</p> <pre><code>mvn clean install\n</code></pre> <p>m</p>"},{"location":"exercicio2/main/#configuracao-com-docker","title":"Configura\u00e7\u00e3o com Docker","text":"<p>Ap\u00f3s a instala\u00e7\u00e3o local, configure o ambiente Docker. Um arquivo Docker \u00e9 utilizado para compilar e executar o servi\u00e7o, garantindo que o m\u00f3dulo \"product\" j\u00e1 esteja instalado.</p> Arquivo Docker do product-service dockerfile<pre><code>FROM openjdk:21-slim\nVOLUME /tmp\nCOPY target/*.jar app.jar\nENTRYPOINT [\"java\",\"-jar\",\"/app.jar\"]\n</code></pre>"},{"location":"exercicio2/main/#arquivos-de-configuracao-maven","title":"Arquivos de Configura\u00e7\u00e3o Maven","text":"<p>Verifique os arquivos de configura\u00e7\u00e3o Maven presentes nos dois m\u00f3dulos do projeto:</p> Arquivo pom.xml do productArquivo pom.xml do product-service product pom.xml<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n       &lt;version&gt;3.4.2&lt;/version&gt;\n       &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;store&lt;/groupId&gt;\n   &lt;artifactId&gt;product&lt;/artifactId&gt;\n   &lt;version&gt;1.0.0&lt;/version&gt;\n   &lt;name&gt;product&lt;/name&gt;\n   &lt;properties&gt;\n       &lt;java.version&gt;21&lt;/java.version&gt;\n       &lt;spring-cloud.version&gt;2024.0.0&lt;/spring-cloud.version&gt;\n       &lt;maven.compiler.proc&gt;full&lt;/maven.compiler.proc&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n           &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n           &lt;version&gt;2.18.2&lt;/version&gt; &lt;!-- Use your Jackson version --&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n           &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n           &lt;optional&gt;true&lt;/optional&gt;\n       &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;dependencyManagement&gt;\n       &lt;dependencies&gt;\n           &lt;dependency&gt;\n               &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n               &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n               &lt;type&gt;pom&lt;/type&gt;\n               &lt;scope&gt;import&lt;/scope&gt;\n           &lt;/dependency&gt;\n       &lt;/dependencies&gt;\n   &lt;/dependencyManagement&gt;\n\n&lt;/project&gt;\n</code></pre> product pom.xml<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n       &lt;version&gt;3.4.2&lt;/version&gt;\n       &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;store&lt;/groupId&gt;\n   &lt;artifactId&gt;product-service&lt;/artifactId&gt;\n   &lt;version&gt;1.0.0&lt;/version&gt;\n   &lt;properties&gt;\n       &lt;java.version&gt;21&lt;/java.version&gt;\n       &lt;spring-cloud.version&gt;2024.0.0&lt;/spring-cloud.version&gt;\n       &lt;maven.compiler.proc&gt;full&lt;/maven.compiler.proc&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;store&lt;/groupId&gt;\n           &lt;artifactId&gt;product&lt;/artifactId&gt;\n           &lt;version&gt;${project.version}&lt;/version&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n           &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n           &lt;optional&gt;true&lt;/optional&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n           &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n           &lt;scope&gt;runtime&lt;/scope&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n           &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;!-- https://mvnrepository.com/artifact/org.flywaydb/flyway-database-postgresql --&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n           &lt;artifactId&gt;flyway-database-postgresql&lt;/artifactId&gt;\n           &lt;scope&gt;runtime&lt;/scope&gt;\n       &lt;/dependency&gt;\n\n       &lt;!-- dependency redis e cache --&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n\n       &lt;!-- dependency prometheus e grafana --&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n           &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n           &lt;scope&gt;runtime&lt;/scope&gt;\n       &lt;/dependency&gt;\n\n   &lt;/dependencies&gt;\n\n   &lt;dependencyManagement&gt;\n       &lt;dependencies&gt;\n           &lt;dependency&gt;\n               &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n               &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n               &lt;type&gt;pom&lt;/type&gt;\n               &lt;scope&gt;import&lt;/scope&gt;\n           &lt;/dependency&gt;\n       &lt;/dependencies&gt;\n   &lt;/dependencyManagement&gt;\n\n   &lt;build&gt;\n       &lt;plugins&gt;\n           &lt;plugin&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n           &lt;/plugin&gt;\n       &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>"},{"location":"exercicio2/main/#documentacao-dos-endpoints","title":"Documenta\u00e7\u00e3o dos Endpoints","text":"<p>A seguir, detalhamos os endpoints dispon\u00edveis para intera\u00e7\u00e3o com o servi\u00e7o de produtos.</p> <p>Cadastrar Produto (POST /product)</p> <p>Utilize este endpoint para inserir um novo produto no sistema.</p> <p>=== \"Exemplo de Requisi\u00e7\u00e3o\"</p> <pre><code>  ``` { .json .copy .select linenums='1' }\n  {\n        \"name\": \"Tomate\",\n        \"price\": 10.12,\n        \"unit\": \"kg\"\n  }\n  ```\n</code></pre> <p>=== \"Exemplo de Resposta\"</p> <pre><code>  ``` { .json .copy .select linenums='1' }\n  {\n        \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n        \"name\": \"Tomate\",\n        \"price\": 10.12,\n        \"unit\": \"kg\"\n  }\n  ```\n  ```bash\n  C\u00f3digo: 201 (Created)\n  ```\n</code></pre> <p>Listar Produtos (GET /product)</p> <p>Recupere a lista completa de produtos cadastrados.</p> <p>=== \"Exemplo de Resposta\"</p> <pre><code>  ``` { .json .copy .select linenums='1' }\n  [\n        {\n             \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n             \"name\": \"Tomate\",\n             \"price\": 10.12,\n             \"unit\": \"kg\"\n        },\n        {\n             \"id\": \"0195abfe-e416-7052-be3b-27cdaf12a984\",\n             \"name\": \"Queijo\",\n             \"price\": 0.62,\n             \"unit\": \"fatia\"\n        }\n  ]\n  ```\n  ```bash\n  C\u00f3digo: 200 (OK)\n  ```\n</code></pre> <p>Detalhar Produto (GET /product/{id})</p> <p>Consulte informa\u00e7\u00f5es espec\u00edficas de um produto usando seu identificador \u00fanico.</p> <p>=== \"Exemplo de Resposta\"</p> <pre><code>  ``` { .json .copy .select linenums='1' }\n  {\n        \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n        \"name\": \"Tomate\",\n        \"price\": 10.12,\n        \"unit\": \"kg\"\n  }\n  ```\n  ```bash\n  C\u00f3digo: 200 (OK)\n  ```\n</code></pre> <p>Remo\u00e7\u00e3o de Produto (DELETE /product/{id})</p> <p>Exclua um produto conforme seu identificador. Este endpoint n\u00e3o retorna conte\u00fado.</p> <pre><code>C\u00f3digo: 204 (No Content)\n</code></pre>"},{"location":"exercicio2/main/#conclusao","title":"Conclus\u00e3o","text":"<p>Esta documenta\u00e7\u00e3o apresenta uma abordagem alternativa para a configura\u00e7\u00e3o e uso da API de produtos. Siga os passos indicados para obter um ambiente adequado para desenvolvimento e testes.</p>"},{"location":"exercicio3/main/","title":"Exercicio 3","text":""},{"location":"exercicio3/main/#objetivo","title":"Objetivo","text":"<p>Fazer um microservi\u00e7o de order para nossa api, que interaja com nosso banco de dados e tenha uma dependencia com os objetos utilizados.</p>"},{"location":"exercicio3/main/#montagem-do-exercicio","title":"Montagem do Exercicio","text":"<p>Para a realiza\u00e7ao deste exercicio, precisamos primeiro criar nossa aplica\u00e7\u00e3o e testa-la, uma vez funcionando adicionamos ao compose da API</p>"},{"location":"exercicio3/main/#criacao-exercicio","title":"Cria\u00e7\u00e3o Exercicio","text":"<p>Clone o reposit\u00f3rio com o exercicio pronto para ver a estrutura de arquivos escolhida, mas ela segue uma estrutura springboot padr\u00e3o, diferindo que s\u00e3o dois reposit\u00f3rios. Para testar localmente, use mvn clean install em <code>order</code> para rodar o <code>order-service</code>.</p>"},{"location":"exercicio3/main/#criacao-dockerfile","title":"Cria\u00e7\u00e3o dockerfile","text":"<p>Este dockerfile basicamente faz o compilamento e executa o mesmo. \u00c9 necessario ter o order installado (mvn clean install)</p> order pom.xmlorder-service pom.xmlorder-service dockerfile order pom.xml<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;store&lt;/groupId&gt;\n    &lt;artifactId&gt;order&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;order&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;21&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2024.0.0&lt;/spring-cloud.version&gt;\n        &lt;maven.compiler.proc&gt;full&lt;/maven.compiler.proc&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;store&lt;/groupId&gt;\n            &lt;artifactId&gt;product&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n&lt;/project&gt;\n</code></pre> order pom.xml<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;store&lt;/groupId&gt;\n    &lt;artifactId&gt;order-service&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;21&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2024.0.0&lt;/spring-cloud.version&gt;\n        &lt;maven.compiler.proc&gt;full&lt;/maven.compiler.proc&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;store&lt;/groupId&gt;\n            &lt;artifactId&gt;order&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;store&lt;/groupId&gt;\n            &lt;artifactId&gt;account&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;store&lt;/groupId&gt;\n            &lt;artifactId&gt;product&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.flywaydb/flyway-database-postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-database-postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre> dockerfile<pre><code>#order-service dockerfile (needs the auto-install)\nFROM openjdk:21-slim\nVOLUME /tmp\nCOPY target/*.jar app.jar\nENTRYPOINT [\"java\",\"-jar\",\"/app.jar\"]\n</code></pre>"},{"location":"exercicio3/main/#rotas","title":"Rotas","text":"<p>POST /order</p> <p>Create a new order.</p> RequestResponse <pre><code>{\n    \"name\": \"Tomato\",\n    \"price\": 10.12,\n    \"unit\": \"kg\"\n}\n</code></pre> <p><pre><code>{\n    \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n    \"name\": \"Tomato\",\n    \"price\": 10.12,\n    \"unit\": \"kg\"\n}\n</code></pre> <pre><code>Response code: 201 (created)\n</code></pre></p> <p>GET /order</p> <p>Get all orders.</p> Response <p><pre><code>[\n    {\n        \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n        \"name\": \"Tomato\",\n        \"price\": 10.12,\n        \"unit\": \"kg\"\n    },\n    {\n        \"id\": \"0195abfe-e416-7052-be3b-27cdaf12a984\",\n        \"name\": \"Cheese\",\n        \"price\": 0.62,\n        \"unit\": \"slice\"\n    }\n]\n</code></pre> <pre><code>Response code: 200 (ok)\n</code></pre></p> <p>POST /order</p> <p>Create a new order for the current user.</p> RequestResponse <pre><code>{\n    \"items\": [\n        {\n            \"idorder\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n            \"quantity\": 2\n        },\n        {\n            \"idorder\": \"0195abfe-e416-7052-be3b-27cdaf12a984\",\n            \"quantity\": 10\n        }\n    ]\n}\n</code></pre> <p><pre><code>{\n    \"id\": \"0195ac33-73e5-7cb3-90ca-7b5e7e549569\",\n    \"date\": \"2025-09-01T12:30:00\",\n    \"items\": [\n        {\n            \"id\": \"01961b9a-bca2-78c4-9be1-7092b261f217\",\n            \"order\": {\n                \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\"\n            },\n            \"quantity\": 2,\n            \"total\": 20.24\n        },\n        {\n            \"id\": \"01961b9b-08fd-76a5-8508-cdb6cd5c27ab\",\n            \"order\": {\n                \"id\": \"0195abfe-e416-7052-be3b-27cdaf12a984\"\n            },\n            \"quantity\": 10,\n            \"total\": 6.2\n        }\n    ],\n    \"total\": 26.44\n}\n</code></pre> <pre><code>Response code: 201 (created)\nResponse code: 400 (bad request), if the order does not exist.\n</code></pre></p> <p>GET /order</p> <p>Get all orders for the current user.</p> Response <p><pre><code>[\n    {\n        \"id\": \"0195ac33-73e5-7cb3-90ca-7b5e7e549569\",\n        \"date\": \"2025-09-01T12:30:00\",\n        \"total\": 26.44\n    },\n    {\n        \"id\": \"0195ac33-cbbd-7a6e-a15b-b85402cf143f\",\n        \"date\": \"2025-10-09T03:21:57\",\n        \"total\": 18.6\n    }\n\n]\n</code></pre> <pre><code>Response code: 200 (ok)\n</code></pre></p> <p>GET /order/{id}</p> <p>Get the order details by its ID. The order must belong to the current user., otherwise, return a <code>404</code>.</p> Response <p><pre><code>{\n    \"id\": \"0195ac33-73e5-7cb3-90ca-7b5e7e549569\",\n    \"date\": \"2025-09-01T12:30:00\",\n    \"items\": [\n        {\n            \"id\": \"01961b9a-bca2-78c4-9be1-7092b261f217\",\n            \"order\": {\n                \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n            },\n            \"quantity\": 2,\n            \"total\": 20.24\n        },\n        {\n            \"id\": \"01961b9b-08fd-76a5-8508-cdb6cd5c27ab\",\n            \"order\": {\n                \"id\": \"0195abfe-e416-7052-be3b-27cdaf12a984\",\n            },\n            \"quantity\": 10,\n            \"total\": 6.2\n        }\n    ],\n    \"total\": 26.44\n}\n</code></pre> <pre><code>Response code: 200 (ok)\nResponse code: 404 (not found), if the order does not belong to the current user.\n</code></pre></p>"}]}